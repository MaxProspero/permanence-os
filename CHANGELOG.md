# Changelog

All notable changes to this project will be documented in this file.

## [Unreleased]
- Added revenue operations expansion:
  - `scripts/revenue_execution_board.py` daily execution board output + tool payload
  - `scripts/revenue_weekly_summary.py` weekly revenue scorecard output + tool payload
  - new CLI commands: `money-loop`, `revenue-action-queue`, `revenue-architecture`, `revenue-execution-board`, `sales-pipeline`, `foundation-site`
  - new CLI command: `revenue-weekly-summary`
  - dashboard revenue endpoint: `/api/revenue/latest`
  - dashboard revenue write/read endpoints: `/api/revenue/intake`, `/api/revenue/pipeline`, `/api/revenue/pipeline/lead`, `/api/revenue/pipeline/<lead_id>`
  - Command Center Revenue Ops view in `dashboard_index.html`
  - Revenue Ops now supports quick lead add + inline stage updates and shows open pipeline rows + latest intake submissions
  - Revenue Ops now shows conversion funnel metrics and auto-detected bottleneck recommendations
  - Revenue Ops queue actions can now be marked complete/incomplete from dashboard (`POST /api/revenue/action`) with live completion progress
  - Revenue Ops now supports dashboard-triggered loop runs (`POST /api/revenue/run-loop`) for full money-loop or queue-only refresh
  - Revenue Ops dashboard now includes live Outreach Draft Pack rendering from latest outreach artifact
  - `revenue_action_queue.py` now prioritizes actions from live pipeline due dates + funnel bottlenecks before template fallbacks
  - added `scripts/revenue_outreach_pack.py` + `python cli.py revenue-outreach-pack` for stage-aware outreach drafts from open leads
  - money loop now generates outreach pack each run
  - local FOUNDATION site preview server: `scripts/foundation_site.py`
  - FOUNDATION intake form now submits to local API first and falls back to mailto
  - operator surface launcher: `scripts/operator_surface.py` + `python cli.py operator-surface` (boots command center + FOUNDATION site together, optional `--money-loop`)
  - helper launcher script: `scripts/launch_operator_surface.sh`
  - desktop launcher generator: `scripts/setup_desktop_launchers.py` + `python cli.py setup-launchers`
  - added automation scripts for money-loop scheduling:
    - `automation/setup_money_loop_automation.sh`
    - `automation/disable_money_loop_automation.sh`
  - tests for revenue execution board generation and dashboard revenue snapshot parsing
- Added chronicle distribution pipeline:
  - `scripts/chronicle_publish.py`
  - shared publish outputs under `memory/chronicle/shared/`
  - optional Drive mirror and SMTP email delivery
- Automation runner (`automation/run_briefing.sh`) now supports chronicle auto-capture/report/publish on schedule via `PERMANENCE_CHRONICLE_AUTOPUBLISH`
- Added `chronicle-publish` CLI command
- Added `scripts/remote_ready.py` and `remote-ready` CLI command for away-mode checks (Tailscale + SSH + awake + automation)
- Added chronicle context loader/injection in `context_loader.py` for self-improvement tasks
- Executor now can inject chronicle context in addition to brand voice context
- Horizon Agent now reads latest chronicle context and can generate chronicle-driven refinement proposals
- Briefing Agent now includes a Chronicle Intelligence section
- Dashboard API now exposes chronicle endpoints (`/api/chronicle`, `/api/chronicle/latest`)
- Added tests for chronicle publish and chronicle context injection
- Added chronicle system for historical backfill and ongoing timeline reporting:
  - `scripts/chronicle_backfill.py`
  - `scripts/chronicle_capture.py`
  - `scripts/chronicle_report.py`
  - shared helpers in `scripts/chronicle_common.py`
- `git-autocommit`/`git-sync` now append chronicle events for commit/push actions
- Added CLI commands: `chronicle-backfill`, `chronicle-capture`, and `chronicle-report`
- Added `git-sync` CLI command for one-step commit + push during active development
- Added `--push`, `--remote`, and `--branch` options to `git-autocommit`
- Added live command center stack files at repo root: `dashboard_api.py`, `dashboard_index.html`, and `horizon_agent.py`
- Added `scripts/command_center.py` one-command launcher for dashboard API + UI (optional Horizon pre-run)
- Added `scripts/launch_command_center.sh` helper for one-click local startup
- Added `command-center` CLI command with host/port, auto-open, and Horizon demo flags
- Dashboard API host/port now support env overrides via `PERMANENCE_DASHBOARD_HOST` and `PERMANENCE_DASHBOARD_PORT`
- Added Canon Amendment CA-013 brand identity context (`canon/brand_identity.yaml`)
- Added root-level brand context loader (`context_loader.py`) with task-aware context injection helpers
- Executor now conditionally applies CA-013 brand voice context for communication/content tasks
- Added brand reference docs under `docs/brand/`
- Added `dell-remote` bridge command (`scripts/dell_remote.py`) for Mac->Dell SSH execution and code sync
- Added tests for Dell remote bridge helpers (`tests/test_dell_remote.py`)
- Added `organize-files` CLI command and safe quarantine workflow (`scripts/file_organizer.py`)
- Added `research-inbox` CLI command for link capture + URL ingest into `sources.json`
- Added tests for file organizer and research inbox workflows
- Google Docs/Drive ingest now falls back to interactive OAuth when token refresh is revoked/expired
- Added PowerShell + WSL Dell helper script (`automation/dell_wsl_helpers.ps1`)
- Added PowerShell-specific Dell cutover runbook (`docs/dell_cutover_powershell.md`)
- Automation runner now prefers `.venv/bin/python` with `python`/`python3` fallback
- Automation report now handles non-macOS hosts without `launchctl`
- Sources digest now writes an empty digest (status 0) when sources.json is empty
- Added `sandra-reception` CLI alias and configurable receptionist naming for automation logs/briefing
- Added url_fetch adapter for Researcher ingestion
- Improved Executor compiled output format (spec-bound sections)
- Expanded evaluation harness coverage (canon conflict, placeholders, tool failure)
- Implemented Email Agent local triage + report output
- Implemented Briefing Agent aggregation (OpenClaw, HR, email, system status)
- Implemented Health Agent local summary + report output
- Implemented Social Agent local draft queue + summary
- Improved promotion queue hygiene (pattern labels + audit/prune)
- Added Logos Praktikos gate evaluator
- Added web_search adapter (Tavily) for Researcher
- Executor now emits source-labeled evidence lines in spec-bound output
- Reviewer enforces evidence coverage per deliverable
- Reviewer flags source dominance in evidence lines
- Added Gmail read-only ingest (OAuth) for Email Agent
- Fixed Gmail ingest imports for CLI execution
- Added pytest.ini to limit test discovery to tests/ directory
- Unified briefing now aggregates email, health, social, focus, and system health summaries
- Added Google Docs ingestion adapter (Drive/Docs API) with CLI flags
- Added PDF text extraction for document ingestion (pypdf)
- Briefing now includes Documents section sourced from sources.json
- Briefing now includes top document excerpts
- Added Google Drive PDF ingestion adapter
- Replaced deprecated datetime.utcnow usage with timezone-aware timestamps
- Added ingest-sources append mode to merge sources.json
- Added ingest-sources resume cursors for Google Docs and Drive PDFs
- Added per-file timeouts and size caps for Drive PDF ingestion
- Added max-doc-chars guard for Google Docs ingestion
- Added ingest-drive-all batch command for Drive PDFs + Docs
- Added skip-failures flag to avoid repeated timeouts in Drive/Docs ingest
- Added ingest-drive-all tuning flags (timeouts, size caps, skip-failures)
- Added sources-digest command for non-LLM summaries
- Added LaCie-aware storage manager with fallback
- Added automation scripts for 3x daily briefing runs
- Added sources-brief command for heuristic synthesis
- Added synthesis-brief command with draft approval flow
- Added NotebookLM Drive sync script + CLI command
- Added size-based split fallback for oversized NotebookLM Docs exports
- Added Interface Agent intake gateway with sanitization, provenance tagging, and Ticket ID responses
- Added Practice Squad scrimmage + hyper-sim modules with training insight write-back
- Added Arcana Engine with 3-6-9 heuristic scan and looking-glass branch projection
- Added Digital Twin `project_timeline()` method for Arcana branch compatibility
- Added new CLI commands: `server`, `scrimmage`, `looking-glass`, `hyper-sim`, and `arcana scan`
- Extended Zero Point memory types with `INTAKE`, `TRAINING`, and `FORECAST`
- Added Polemarch intake polling + `assess_risk()` path for interface-driven routing
- Added v0.4 tests: interface agent, practice squad, arcana engine, sibling dynamics

## [0.2.1] - 2026-02-03
- Added HR Agent (The Shepherd) implementation with weekly health reporting
- Added HR report generator script and CLI command (hr-report)
- Added HR Agent Canon amendment (CA-003) with thresholds and family covenant
- Added OpenClaw status helper script and CLI command (openclaw-status)
- Wired OpenClaw status capture into tool memory and Briefing Agent notes
- Added OpenClaw status references to HR reports and status helper output
- Auto-capture OpenClaw status + health before governed runs
- Briefing Agent includes OpenClaw status excerpt when available
- Added Briefing CLI command and HR report auto-capture of OpenClaw status/health
- Added episodic JSONL memory logger (core/memory.py) alongside existing episodic JSON files
- Added OpenClaw health sync job + CLI command (openclaw-sync)
- Added CLI reference documentation and new tests for episodic memory + OpenClaw sync + briefing
- Added dashboard report script and CLI command (dashboard)
- Added weekly cleanup + auto-commit scripts and system snapshot report
- Added promotion review checklist generator and CLI command
- Added source adapter registry and ingest-sources CLI entrypoint
- Added document ingestion for Researcher with CLI support
- Added Canon promotion queue helper script and CLI wrapper
- Added Canon promotion rubric and included it in promotion drafts
- Status helper now shows risk tier, single-source overrides, and promotion queue count
- Enforced single-source check in runner with --allow-single-source override
- Added single-source coverage to eval harness
- Added memory promotion draft generator and CLI promote command
- Added stub implementations for Researcher, Executor, Reviewer, Conciliator
- Added agent utilities and boundary tests
- Added architecture and governance docs
- Added governed task runner and sources example
- Added budget guardrails across runner stages
- Added helper script to create sources provenance file
- Added draft-aware executor packaging and stricter review checks
- Expanded .env.example with optional path overrides
- Added CLI flags for runner sources/draft overrides
- Added artifact cleanup helper script
- Added status helper script
- Added Legal Integrity and Identity Protocol amendments to the Canon
- Added compliance gate and department agent stubs
- Added identity_config.yaml and compliance gate tests
- Added unified CLI (run/add-source/status/clean/test)
- Added evaluation harness with normal/adversarial/failure tests
- Added Researcher tool-ingest pipeline and CLI ingest command
- Added auto-compose executor output from source notes

## [0.1.0] - 2026-02-02
- Established Canon v0.1.0 and core system values
- Implemented Polemarch (governor) and Planner agents
- Added initial tests and example workflow
- Added documentation and Codex integration guide
